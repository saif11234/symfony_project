<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Liste des auteurs</title>
</head>
<body>
    <h1>Liste des auteurs</h1>

    {% if authors is defined and authors|length > 0 %}
        <p>Nombre d'auteurs : {{ authors|length }}</p>
        {% set total_books = 0 %}
        <ul>
        {% for author in authors %}
            {% set total_books = total_books + author.nb_books %}
            <li>
                <strong>{{ author.username|upper }}</strong> - <a href="{{ path('author_details', {'id': author.id}) }}">Details</a>
            </li>
        {% endfor %}
        </ul>
        <p>Total des livres : {{ total_books }}</p>
    {% else %}
        <p>Aucun auteur disponible.</p>
    {% endif %}
</body>
</html>